!function(e,t){"function"==typeof define&&define.amd?define([],t()):"object"==typeof exports?module.exports=t():e.DependentFields=t()}(this,(function(){"use strict";function e(e){this.selector=e,this.options={wrapperClass:"hidden-wrapper",showClass:"on",hideClass:"off",parentData:"data-parent",showValuesData:"data-show-values",inverseData:"data-inverse"},this.init()}return e.prototype={init:function(){this.elements=document.querySelectorAll(this.selector);for(let e of this.elements){const t=e.getAttribute(this.options.parentData).replace("[]","");let n=t,s=e.getAttribute(this.options.showValuesData),i=e.getAttribute(this.options.inverseData);null!==document.querySelector('*[name="'+t+'[]"]')&&(n=t+"[]"),s=this._getShowValues(s),i="true"==i||i>0,this._enableLCSwitchEvents(),this._enableEventsListeners(e,n,s,i);const o=[];document.querySelectorAll('*[name="'+n+'"]').forEach((e=>{-1===o.indexOf(t)&&(null!==this._getNextSibling(e,".iCheck-helper")&&!0===e.checked?(this._triggerEvent(e,"ifChanged"),o.push(t)):null!==this._getNextSibling(e.parentNode.parentNode,".bootstrap-select")&&""!==e.value?(this._triggerEvent(e,"changed.bs.select"),o.push(t)):(this._triggerEvent(e,"change"),o.push(t)))}))}document.querySelector('button[type="reset"]')&&document.querySelector('button[type="reset"]').addEventListener("click",(()=>{this.init()}))},_enableEventsListeners:function(e,t,n,s){["change","ifChanged","changed.bs.select"].forEach((i=>{document.body.addEventListener(i,(i=>{if(i.target.name===t){const o="radio"===i.target.type,l="checkbox"===i.target.type,a=this._getValue(t,i,n,o,l,s);n.indexOf(a)>-1?!0!==s&&this._showElement(e):!0===s&&void 0!==a?this._showElement(e):this._hideElement(e)}}))}))},_enableLCSwitchEvents:function(){null!==document.querySelector(".lcswitch")&&document.body.addEventListener("lcs-statuschange",(e=>{"lcswitch"===e.target.className&&this._triggerEvent(document.getElementById(e.target.id),"change")}))},_getValue:function(e,t,n,s,i,o){let l;if(o){if(s)n.indexOf(document.querySelector('input[name="'+e+'"]:checked').value)<0&&(l=document.querySelector('input[name="'+e+'"]:checked').value);else if(i){l=[],document.querySelectorAll('input[name="'+e+'"]:checked').forEach((e=>{n.indexOf(e.value)<0&&l.push(e.value)})),l.length<1&&(l=void 0)}else n.indexOf(t.target.value)<0&&(l=t.target.value);"object"==typeof l&&(l=l[0])}else{if(s){document.querySelector('input[name="'+e+'"]:checked')&&(l=document.querySelector('input[name="'+e+'"]:checked').value)}else if(i){l=[];let t=document.querySelectorAll('input[name="'+e+'"]:checked');t.length>0&&t.forEach((e=>{l.push(e.value)}))}else l=t.target.value;if("object"==typeof l&&null!==l)for(let e=l.length-1;e>=0;e--)if(n.indexOf(l[e])>-1){l=l[e];break}}return l},_getShowValues:function(e){e=(e=e.replace("\\,","{comma}")).split(/,\s*/);for(let t=0;t<e.length;t++)e[t]=e[t].replace("{comma}",",");return e},_getNextSibling:function(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}return null},_hideElement:function(e){e.classList.remove(this.options.showClass),e.classList.add(this.options.hideClass);for(const t of e.children)t.classList.contains("hidden-wrapper")||(t.disabled=!0)},_showElement:function(e){e.classList.remove(this.options.hideClass),e.classList.add(this.options.showClass);for(const t of e.children)t.classList.contains("hidden-wrapper")||(t.disabled=!1)},_triggerEvent:function(e,t){const n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}},e}));